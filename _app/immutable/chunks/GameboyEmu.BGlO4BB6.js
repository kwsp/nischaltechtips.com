import{s as $e,n as jt,r as tr,o as nr,b as ir}from"./scheduler.Bx2Bskgx.js";import{S as er,i as rr,e as g,s as z,v as Rt,c as C,f as D,g as Mt,h as H,d as A,w as Ot,a as d,u as Pt,b as Ut,j as x,A as N,x as sr,B as ur}from"./index.BdaOlkz8.js";import{e as Ht}from"./each.D6YF6ztN.js";var fr=function(p,w){var l=w.getAddress,c=w.putAddress,I=w.executeInt,t=w.start|0,n=1,f=0,o=19,u=0,s=216,i=333,h=65534,m=0,E=0,b=0,a=0,K=0,et=0;function Z(){et=1}function ft(){et=0}function Y(e){return e=e|0,K?(K=0,U(e),ft(),1):0}function nt(e){return e=e|0,((l(e+1|0)|0)<<8)+(l(e|0)|0)|0}function G(e,r){e=e|0,r=r|0,c(e+1|0,(r>>>0)/256|0),c(e|0,(r>>>0)%256|0)}function R(){return((l(t+1|0)|0)<<8)+(l(t|0)|0)|0}function y(){return l(t|0)|0}function P(){var e=0;return e=l(t|0)|0,(e|0)>=128?(e|0)-256|0:e|0}function J(e){return e=e|0,E=0,b=0,(e|0)>=255?(m=1,b=1,0):(m=0,((e|0)%16|0)==15&&(b=1),e+1|0)}function T(e){if(e=e|0,E=1,b=0,e|0){if((e|0)==1)return m=1,0}else return m=0,b=1,255;return m=0,(e|0)%16|0||(b=1),e-1|0}function W(e,r){return e=e|0,r=r|0,E=0,(e+r|0)>=256?a=1:a=0,(e+r|0)%256|0?m=0:m=1,(((e|0)%16|0)+((r|0)%16|0)|0)>=16?b=1:b=0,(e+r|0)%256|0}function S(e,r){return e=e|0,r=r|0,a?W(e,r+1|0)|0:W(e,r)|0}function q(e,r){return e=e|0,r=r|0,(r|0)<0&&(r=r+65536|0),E=0,(e+r|0)>=65536?a=1:a=0,(((e|0)%4096|0)+((r|0)%4096|0)|0)>=4096?b=1:b=0,(e+r|0)%65536|0}function _(e,r){return e=e|0,r=r|0,E=1,(e-r|0)<0?a=1:a=0,e-r|0?m=0:m=1,(((e|0)%16|0)-((r|0)%16|0)|0)<0?b=1:b=0,(e-r+256|0)%256|0}function v(e,r){return e=e|0,r=r|0,a?_(e,r+1|0)|0:_(e,r)|0}function O(e,r){return e=e|0,r=r|0,E=0,b=1,a=0,e&r|0?m=0:m=1,e&r}function F(e,r){return e=e|0,r=r|0,E=0,b=0,a=0,e^r|0?m=0:m=1,e^r}function $(e,r){return e=e|0,r=r|0,E=0,b=0,a=0,e|r|0?m=0:m=1,e|r}function U(e){e=e|0,h=h-2|0,G(h,t),t=e,h=(h+65536|0)%65536|0}function X(){t=nt(h)|0,h=h+2|0,h=(h|0)%65536|0}function k(e){e=e|0,i=i&255|e<<8}function L(e){e=e|0,i=i&65280|e}function ot(){return t=t+1|0,4}function Ft(){var e=0;return t=t+1|0,e=R()|0,f=e>>8,o=e&255,t=t+2|0,12}function Ct(){return c(f<<8|o,n|0),t=t+1|0,8}function bt(){return o=o+1|0,(o|0)==256&&(o=0,f=f+1|0,(f|0)==256&&(f=0)),t=t+1|0,8}function At(){return f=J(f)|0,t=t+1|0,4}function rt(){return f=T(f)|0,t=t+1|0,4}function at(){return t=t+1|0,f=y()|0,t=t+1|0,8}function Lt(){return t=t+1|0,It(7),4}function yt(){return t=t+1|0,G(R()|0,h),t=t+2|0,20}function st(){return i=q(i,f<<8|o)|0,t=t+1|0,8}function kt(){return n=l(f<<8|o)|0,t=t+1|0,8}function vt(){return o=o-1|0,(o|0)==-1&&(o=255,f=f-1|0,(f|0)==-1&&(f=255)),t=t+1|0,8}function Dt(){return o=J(o)|0,t=t+1|0,4}function xt(){return o=T(o)|0,t=t+1|0,4}function Et(){return t=t+1|0,o=y()|0,t=t+1|0,8}function mt(){return t=t+1|0,It(15),4}function _t(){return Z(),t=t+1|0,4}function Tt(){var e=0;return t=t+1|0,e=R()|0,u=e>>8,s=e&255,t=t+2|0,12}function ct(){return c(u<<8|s,n|0),t=t+1|0,8}function j(){return s=s+1|0,(s|0)==256&&(s=0,u=u+1|0,(u|0)==256&&(u=0)),t=t+1|0,8}function B(){return u=J(u)|0,t=t+1|0,4}function Q(){return u=T(u)|0,t=t+1|0,4}function M(){return t=t+1|0,u=y()|0,t=t+1|0,8}function ut(){return t=t+1|0,It(23),4}function ht(){return t=t+1|0,t=t+(P()|0)+1|0,12}function lt(){return i=q(i,u<<8|s)|0,t=t+1|0,8}function it(){return n=l(u<<8|s)|0,t=t+1|0,8}function dt(){return s=s-1|0,(s|0)==-1&&(s=255,u=u-1|0,(u|0)==-1&&(u=255)),t=t+1|0,8}function wt(){return s=J(s)|0,t=t+1|0,4}function St(){return s=T(s)|0,t=t+1|0,4}function tt(){return t=t+1|0,s=y()|0,t=t+1|0,8}function pt(){return t=t+1|0,It(31),4}function gt(){return m?(t=t+2|0,8):(t=t+1|0,t=t+(P()|0)+1|0,12)}function Vt(){return t=t+1|0,i=R()|0,t=t+2|0,12}function Bt(){return c(i|0,n|0),i=i+1|0,(i|0)>65535&&(i=0),t=t+1|0,8}function qt(){return i=i+1|0,(i|0)>65535&&(i=0),t=t+1|0,8}function Nt(){return k(J(i>>8)|0),t=t+1|0,4}function Wt(){return k(T(i>>8)|0),t=t+1|0,4}function Zt(){return t=t+1|0,k(y()|0),t=t+1|0,8}function Xt(){var e=0,r=0;return t=t+1|0,e=n>>4,r=(n|0)%16|0,E?!a&!b&(e|0)<=9&(r|0)<=9?a=0:!a&b&(e|0)<=8&(r|0)>=6?(a=0,n=n+250|0):a&!b&(e|0)>=7&(r|0)<=9?(a=1,n=n+160|0):a&b&(e|0)>=6&(r|0)>=6&&(a=1,n=n+154|0):!a&!b&(e|0)<=9&(r|0)<=9?a=0:!a&!b&(e|0)<=8&(r|0)>=10||!a&b&(e|0)<=9&(r|0)<=3?(a=0,n=n+6|0):!a&!b&(e|0)>=10&(r|0)<=9?(a=1,n=n+96|0):!a&!b&(e|0)>=9&(r|0)>=10||!a&b&(e|0)>=10&(r|0)<=3?(a=1,n=n+102|0):a&!b&(e|0)<=2&(r|0)<=9?(a=1,n=n+96|0):(a&!b&(e|0)<=2&(r|0)>=10||a&b&(e|0)<=3&(r|0)<=3)&&(a=1,n=n+102|0),n=(n|0)%256|0,4}function Jt(){return m?(t=t+1|0,t=t+(P()|0)+1|0,12):(t=t+2|0,8)}function Qt(){return i=q(i,i)|0,t=t+1|0,8}function Yt(){return n=l(i|0)|0,i=i+1|0,(i|0)>65535&&(i=0),t=t+1|0,8}function $t(){return i=i-1|0,(i|0)<0&&(i=65535),t=t+1|0,8}function tn(){return L(J(i&255)|0),t=t+1|0,4}function nn(){return L(T(i&255)|0),t=t+1|0,4}function en(){return t=t+1|0,L(y()|0),t=t+1|0,8}function rn(){return n=n^255,E=1,b=1,t=t+1|0,4}function sn(){return a?(t=t+2|0,8):(t=t+1|0,t=t+(P()|0)+1|0,12)}function un(){return t=t+1|0,h=R()|0,t=t+2|0,12}function fn(){return c(i|0,n|0),i=i-1|0,(i|0)<0&&(i=65535),t=t+1|0,8}function on(){return h=h+1|0,(h|0)>65535&&(h=0),t=t+1|0,8}function an(){return c(i|0,J(l(i|0)|0)|0),t=t+1|0,12}function cn(){return c(i|0,T(l(i|0)|0)|0),t=t+1|0,12}function hn(){return t=t+1|0,c(i|0,y()|0),t=t+1|0,12}function ln(){return a=1,E=0,b=0,t=t+1|0,4}function vn(){return a?(t=t+1|0,t=t+(P()|0)+1|0,12):(t=t+2|0,8)}function xn(){return i=q(i|0,h|0)|0,t=t+1|0,8}function mn(){return n=l(i|0)|0,i=i-1|0,(i|0)<0&&(i=65535),t=t+1|0,8}function bn(){return h=h-1|0,(h|0)<0&&(h=65535),t=t+1|0,8}function dn(){return n=J(n|0)|0,t=t+1|0,4}function wn(){return n=T(n|0)|0,t=t+1|0,4}function pn(){return t=t+1|0,n=y()|0,t=t+1|0,8}function gn(){return a?a=0:a=1,E=0,b=0,t=t+1|0,4}function Cn(){return f=f,t=t+1|0,4}function An(){return f=o,t=t+1|0,4}function yn(){return f=u,t=t+1|0,4}function kn(){return f=s,t=t+1|0,4}function Dn(){return f=i>>8,t=t+1|0,4}function En(){return f=i&255,t=t+1|0,4}function _n(){return f=l(i|0)|0,t=t+1|0,8}function Bn(){return f=n,t=t+1|0,4}function In(){return o=f,t=t+1|0,4}function Mn(){return o=o,t=t+1|0,4}function Rn(){return o=u,t=t+1|0,4}function On(){return o=s,t=t+1|0,4}function Fn(){return o=i>>8,t=t+1|0,4}function Ln(){return o=i&255,t=t+1|0,4}function Tn(){return o=l(i|0)|0,t=t+1|0,8}function Sn(){return o=n,t=t+1|0,4}function Vn(){return u=f,t=t+1|0,4}function Pn(){return u=o,t=t+1|0,4}function Un(){return u=u,t=t+1|0,4}function jn(){return u=s,t=t+1|0,4}function zn(){return u=i>>8,t=t+1|0,4}function Hn(){return u=i&255,t=t+1|0,4}function Kn(){return u=l(i|0)|0,t=t+1|0,8}function Gn(){return u=n,t=t+1|0,4}function qn(){return s=f,t=t+1|0,4}function Nn(){return s=o,t=t+1|0,4}function Wn(){return s=u,t=t+1|0,4}function Zn(){return s=s,t=t+1|0,4}function Xn(){return s=i>>8,t=t+1|0,4}function Jn(){return s=i&255,t=t+1|0,4}function Qn(){return s=l(i|0)|0,t=t+1|0,8}function Yn(){return s=n,t=t+1|0,4}function $n(){return k(f),t=t+1|0,4}function ti(){return k(o),t=t+1|0,4}function ni(){return k(u),t=t+1|0,4}function ii(){return k(s),t=t+1|0,4}function ei(){return k(i>>8),t=t+1|0,4}function ri(){return k(i&255),t=t+1|0,4}function si(){return k(l(i|0)|0),t=t+1|0,8}function ui(){return k(n),t=t+1|0,4}function fi(){return L(f),t=t+1|0,4}function oi(){return L(o),t=t+1|0,4}function ai(){return L(u),t=t+1|0,4}function ci(){return L(s),t=t+1|0,4}function hi(){return L(i>>8),t=t+1|0,4}function li(){return L(i&255),t=t+1|0,4}function vi(){return L(l(i|0)|0),t=t+1|0,8}function xi(){return L(n),t=t+1|0,4}function mi(){return c(i|0,f|0),t=t+1|0,8}function bi(){return c(i|0,o|0),t=t+1|0,8}function di(){return c(i|0,u|0),t=t+1|0,8}function wi(){return c(i|0,s|0),t=t+1|0,8}function pi(){return c(i|0,i>>8),t=t+1|0,8}function gi(){return c(i|0,i&255),t=t+1|0,8}function Ci(){return(K|0)==1&&Z(),t=t+1|0,4}function Ai(){return c(i|0,n|0),t=t+1|0,8}function yi(){return n=f,t=t+1|0,4}function ki(){return n=o,t=t+1|0,4}function Di(){return n=u,t=t+1|0,4}function Ei(){return n=s,t=t+1|0,4}function _i(){return n=i>>8,t=t+1|0,4}function Bi(){return n=i&255,t=t+1|0,4}function Ii(){return n=l(i|0)|0,t=t+1|0,8}function Mi(){return n=n,t=t+1|0,4}function Ri(){return n=W(n|0,f|0)|0,t=t+1|0,4}function Oi(){return n=W(n|0,o|0)|0,t=t+1|0,4}function Fi(){return n=W(n|0,u|0)|0,t=t+1|0,4}function Li(){return n=W(n|0,s|0)|0,t=t+1|0,4}function Ti(){return n=W(n|0,i>>8)|0,t=t+1|0,4}function Si(){return n=W(n|0,i&255)|0,t=t+1|0,4}function Vi(){return n=W(n|0,l(i|0)|0)|0,t=t+1|0,8}function Pi(){return n=W(n|0,n|0)|0,t=t+1|0,4}function Ui(){return n=S(n|0,f|0)|0,t=t+1|0,4}function ji(){return n=S(n|0,o|0)|0,t=t+1|0,4}function zi(){return n=S(n|0,u|0)|0,t=t+1|0,4}function Hi(){return n=S(n|0,s|0)|0,t=t+1|0,4}function Ki(){return n=S(n|0,i>>8)|0,t=t+1|0,4}function Gi(){return n=S(n|0,i&255)|0,t=t+1|0,4}function qi(){return n=S(n|0,l(i|0)|0)|0,t=t+1|0,8}function Ni(){return n=S(n|0,n|0)|0,t=t+1|0,4}function Wi(){return n=_(n|0,f|0)|0,t=t+1|0,4}function Zi(){return n=_(n|0,o|0)|0,t=t+1|0,4}function Xi(){return n=_(n|0,u|0)|0,t=t+1|0,4}function Ji(){return n=_(n|0,s|0)|0,t=t+1|0,4}function Qi(){return n=_(n|0,i>>8)|0,t=t+1|0,4}function Yi(){return n=_(n|0,i&255)|0,t=t+1|0,4}function $i(){return n=_(n|0,l(i|0)|0)|0,t=t+1|0,8}function t0(){return n=_(n|0,n|0)|0,t=t+1|0,4}function n0(){return n=v(n|0,f|0)|0,t=t+1|0,4}function i0(){return n=v(n|0,o|0)|0,t=t+1|0,4}function e0(){return n=v(n|0,u|0)|0,t=t+1|0,4}function r0(){return n=v(n|0,s|0)|0,t=t+1|0,4}function s0(){return n=v(n|0,i>>8)|0,t=t+1|0,4}function u0(){return n=v(n|0,i&255)|0,t=t+1|0,4}function f0(){return n=v(n|0,l(i|0)|0)|0,t=t+1|0,8}function o0(){return n=v(n|0,n|0)|0,t=t+1|0,4}function a0(){return n=O(n|0,f|0)|0,t=t+1|0,4}function c0(){return n=O(n|0,o|0)|0,t=t+1|0,4}function h0(){return n=O(n|0,u|0)|0,t=t+1|0,4}function l0(){return n=O(n|0,s|0)|0,t=t+1|0,4}function v0(){return n=O(n|0,i>>8)|0,t=t+1|0,4}function x0(){return n=O(n|0,i&255)|0,t=t+1|0,4}function m0(){return n=O(n|0,l(i|0)|0)|0,t=t+1|0,8}function b0(){return n=O(n|0,n|0)|0,t=t+1|0,4}function d0(){return n=F(n|0,f|0)|0,t=t+1|0,4}function w0(){return n=F(n|0,o|0)|0,t=t+1|0,4}function p0(){return n=F(n|0,u|0)|0,t=t+1|0,4}function g0(){return n=F(n|0,s|0)|0,t=t+1|0,4}function C0(){return n=F(n|0,i>>8)|0,t=t+1|0,4}function A0(){return n=F(n|0,i&255)|0,t=t+1|0,4}function y0(){return n=F(n|0,l(i|0)|0)|0,t=t+1|0,8}function k0(){return n=F(n|0,n|0)|0,t=t+1|0,4}function D0(){return n=$(n|0,f|0)|0,t=t+1|0,4}function E0(){return n=$(n|0,o|0)|0,t=t+1|0,4}function _0(){return n=$(n|0,u|0)|0,t=t+1|0,4}function B0(){return n=$(n|0,s|0)|0,t=t+1|0,4}function I0(){return n=$(n|0,i>>8)|0,t=t+1|0,4}function M0(){return n=$(n|0,i&255)|0,t=t+1|0,4}function R0(){return n=$(n|0,l(i|0)|0)|0,t=t+1|0,8}function O0(){return n=$(n|0,n|0)|0,t=t+1|0,4}function F0(){return _(n|0,f|0)|0,t=t+1|0,4}function L0(){return _(n|0,o|0)|0,t=t+1|0,4}function T0(){return _(n|0,u|0)|0,t=t+1|0,4}function S0(){return _(n|0,s|0)|0,t=t+1|0,4}function V0(){return _(n|0,i>>8)|0,t=t+1|0,4}function P0(){return _(n|0,i&255)|0,t=t+1|0,4}function U0(){return _(n|0,l(i|0)|0)|0,t=t+1|0,8}function j0(){return _(n|0,n|0)|0,t=t+1|0,4}function z0(){if(m)t=t+1|0;else return X(),20;return 8}function H0(){var e=0;return e=nt(h|0)|0,f=e>>8,o=e&255,h=h+2|0,t=t+1|0,12}function K0(){return m?(t=t+3|0,12):(t=t+1|0,t=R()|0,16)}function G0(){return t=t+1|0,t=R()|0,16}function q0(){var e=0;return m?(t=t+3|0,12):(t=t+1|0,e=R()|0,t=t+2|0,U(e),24)}function N0(){return h=h-2|0,G(h|0,f<<8|o),t=t+1|0,16}function W0(){return t=t+1|0,n=W(n|0,y()|0)|0,t=t+1|0,8}function Z0(){return t=t+1|0,U(0),16}function X0(){return m?(X(),20):(t=t+1|0,8)}function J0(){return X(),16}function Q0(){return m?(t=t+1|0,t=R()|0,16):(t=t+3|0,12)}function Y0(){return t=t+1|0,It(y()|0),t=t+1|0,8}function $0(){var e=0;return m?(t=t+1|0,e=R()|0,t=t+2|0,U(e),24):(t=t+3|0,12)}function te(){var e=0;return t=t+1|0,e=R()|0,t=t+2|0,U(e),24}function ne(){return t=t+1|0,n=S(n|0,y()|0)|0,t=t+1|0,8}function ie(){return t=t+1|0,U(8),16}function ee(){if(a)t=t+1|0;else return X(),20;return 8}function re(){var e=0;return e=nt(h|0)|0,u=e>>8,s=e&255,h=h+2|0,t=t+1|0,12}function se(){return a?(t=t+3|0,12):(t=t+1|0,t=R()|0,16)}function ue(){return 0}function fe(){var e=0;return a?(t=t+3|0,12):(t=t+1|0,e=R()|0,t=t+2|0,U(e),24)}function oe(){return h=h-2|0,G(h|0,u<<8|s),t=t+1|0,16}function ae(){return t=t+1|0,n=_(n|0,y()|0)|0,t=t+1|0,8}function ce(){return t=t+1|0,U(16),16}function he(){return a?(X(),20):(t=t+1|0,8)}function le(){return K=1,X(),16}function ve(){return a?(t=t+1|0,t=R()|0,16):(t=t+3|0,12)}function xe(){return 0}function me(){var e=0;return a?(t=t+1|0,e=R()|0,t=t+2|0,U(e),24):(t=t+3|0,12)}function be(){return 0}function de(){return t=t+1|0,n=v(n|0,y()|0)|0,t=t+1|0,8}function we(){return t=t+1|0,U(24),16}function pe(){return t=t+1|0,c(65280+(y()|0)|0,n|0),t=t+1|0,12}function ge(){return i=nt(h|0)|0,h=h+2|0,t=t+1|0,12}function Ce(){return c(65280+o|0,n|0),t=t+1|0,8}function Ae(){return 0}function ye(){return 0}function ke(){return h=h-2|0,G(h|0,i|0),t=t+1|0,16}function De(){return t=t+1|0,n=O(n|0,y()|0)|0,t=t+1|0,8}function Ee(){return t=t+1|0,U(32),16}function _e(){return t=t+1|0,h=q(h|0,P()|0)|0,m=0,t=t+1|0,16}function Be(){return t=i,4}function Ie(){return t=t+1|0,c(R()|0,n|0)|0,t=t+2|0,16}function Me(){return 0}function Re(){return 0}function Oe(){return 0}function Fe(){return t=t+1|0,n=F(n|0,y()|0)|0,t=t+1|0,8}function Le(){return t=t+1|0,U(40),16}function Te(){return t=t+1|0,n=l(65280+(y()|0)|0)|0,t=t+1|0,12}function Se(){var e=0;return e=nt(h|0)|0,n=e>>8,m=(e&128)/128|0,E=(e&64)/64|0,b=(e&32)/32|0,a=(e&16)/16|0,h=h+2|0,t=t+1|0,12}function Ve(){return n=l(65280+o|0)|0,t=t+1|0,8}function Pe(){return K=0,t=t+1|0,4}function Ue(){return 0}function je(){return h=h-2|0,G(h|0,n<<8|m<<7|E<<6|b<<5|a<<4),t=t+1|0,16}function ze(){return t=t+1|0,n=$(n|0,y()|0)|0,t=t+1|0,8}function He(){return t=t+1|0,U(48),16}function Ke(){return t=t+1|0,i=q(h|0,P()|0)|0,m=0,t=t+1|0,12}function Ge(){return h=i,t=t+1|0,8}function qe(){return t=t+1|0,n=l(R()|0)|0,t=t+2|0,16}function Ne(){return K=1,t=t+1|0,I(),4}function We(){return 0}function Ze(){return 0}function Xe(){return t=t+1|0,_(n|0,y()|0)|0,t=t+1|0,8}function Je(){return t=t+1|0,U(56),16}function It(e){e=e|0;var r=0,zt=0,V=0;switch((e|0)%8|0){case 0:r=f;break;case 1:r=o;break;case 2:r=u;break;case 3:r=s;break;case 4:r=i>>8;break;case 5:r=i&255;break;case 6:r=l(i|0)|0;break;case 7:r=n;break}if(zt=r,V=(e|0)/8|0,(V|0)>=0&(V|0)<=7&&(V|0?(V|0)==1?(r|0)&1?(r=(r>>1)+128|0,a=1):(r=r>>1,a=0):(V|0)==2?(r|0)>=128?(r=((r<<1)%256|0)+a|0,a=1):(r=((r<<1)%256|0)+a|0,a=0):(V|0)==3?(r|0)&1?(r=(r>>1)+(a*128|0)|0,a=1):(r=(r>>1)+(a*128|0)|0,a=0):(V|0)==4?((r|0)>=128?a=1:a=0,r=(r<<1)%256|0):(V|0)==5?((r|0)&1?a=1:a=0,r=(r>>1)+((r|0)>=128?128:0)|0):(V|0)==6?(a=0,r=((r|0)%16|0)*16|0+((r|0)/16|0)):(V|0)==7&&(r&1?a=1:a=0,r=r>>1):(r|0)>=128?(r=((r<<1)%256|0)+1|0,a=1):(r=(r<<1)%256|0,a=0),r|0?m=0:m=1,E=0,b=0),(V|0)>=8&(V|0)<=15&&(E=0,b=1,r&1<<V-8?m=0:m=1),(V|0)>=16&(V|0)<=23&&(r=r&~(1<<V-16)|0),(V|0)>=24&(V|0)<=31&&(r=r|1<<V-24),(zt|0)!=(r|0))switch((e|0)%8|0){case 0:f=(r|0)%256|0;break;case 1:o=(r|0)%256|0;break;case 2:u=(r|0)%256|0;break;case 3:s=(r|0)%256|0;break;case 4:k((r|0)%256|0);break;case 5:L((r|0)%256|0);break;case 6:c(i|0,(r|0)%256|0);break;case 7:n=(r|0)%256|0;break}}function Qe(e){e=e|0;for(var r=0;!et&(e|0)>0;)r=l(t|0)|0,e=e-(Ye[r&255]()|0)|0}var Ye=[ot,Ft,Ct,bt,At,rt,at,Lt,yt,st,kt,vt,Dt,xt,Et,mt,_t,Tt,ct,j,B,Q,M,ut,ht,lt,it,dt,wt,St,tt,pt,gt,Vt,Bt,qt,Nt,Wt,Zt,Xt,Jt,Qt,Yt,$t,tn,nn,en,rn,sn,un,fn,on,an,cn,hn,ln,vn,xn,mn,bn,dn,wn,pn,gn,Cn,An,yn,kn,Dn,En,_n,Bn,In,Mn,Rn,On,Fn,Ln,Tn,Sn,Vn,Pn,Un,jn,zn,Hn,Kn,Gn,qn,Nn,Wn,Zn,Xn,Jn,Qn,Yn,$n,ti,ni,ii,ei,ri,si,ui,fi,oi,ai,ci,hi,li,vi,xi,mi,bi,di,wi,pi,gi,Ci,Ai,yi,ki,Di,Ei,_i,Bi,Ii,Mi,Ri,Oi,Fi,Li,Ti,Si,Vi,Pi,Ui,ji,zi,Hi,Ki,Gi,qi,Ni,Wi,Zi,Xi,Ji,Qi,Yi,$i,t0,n0,i0,e0,r0,s0,u0,f0,o0,a0,c0,h0,l0,v0,x0,m0,b0,d0,w0,p0,g0,C0,A0,y0,k0,D0,E0,_0,B0,I0,M0,R0,O0,F0,L0,T0,S0,V0,P0,U0,j0,z0,H0,K0,G0,q0,N0,W0,Z0,X0,J0,Q0,Y0,$0,te,ne,ie,ee,re,se,ue,fe,oe,ae,ce,he,le,ve,xe,me,be,de,we,pe,ge,Ce,Ae,ye,ke,De,Ee,_e,Be,Ie,Me,Re,Oe,Fe,Le,Te,Se,Ve,Pe,Ue,je,ze,He,Ke,Ge,qe,Ne,We,Ze,Xe,Je];return{execute:Qe,stop:Z,resume:ft,interrupt:Y}},or=function(p){var w=this;this.COLOR0=255<<24|255<<16|65280|255,this.COLOR1=255<<24|204<<16|52224|204,this.COLOR2=255<<24|153<<16|39168|153,this.COLOR3=255<<24|0|0|0,this.displaycanvas=null,this.onFPS=null;var l=new Uint8Array(p);this.rom8bit=new Array(l.length);for(var c=0;c<l.length;c++)this.rom8bit[c]=l[c];switch(this.romBanks=2*Math.pow(2,this.rom8bit[328]),this.activeRomBank=1,this.rom8bit[329]){case 0:this.ramSpace=0,this.ramBanks=0;break;case 1:this.ramSpace=2048,this.ramBanks=1;break;case 2:this.ramSpace=8192,this.ramBanks=1;break;case 3:this.ramSpace=32768,this.ramBanks=4;break;default:this.ramSpace=0}this.activeRamBank=0,this.ramEnabled=0,this.romRamMode=0,this.cartram8bit=new Array(this.ramSpace),this.vram8bit=new Array(8192),this.wram8bit=new Array(8192),this.spriteram8bit=new Array(160),this.io8bit=new Array(127),this.hram8bit=new Array(126),this.bgMap=new Array,this.bgModified=new Array;for(var c=0;c<32;c++){this.bgMap[c]=new Array,this.bgModified[c]=new Array;for(var I=0;I<32;I++)this.bgMap[c][I]=-1,this.bgModified[c][I]=new Date}this.bgCanvas=document.createElement("canvas"),this.bgCanvas.width=256,this.bgCanvas.height=256,this.bgCtx=this.bgCanvas.getContext("2d",{willReadFrequently:!0}),this.winMap=new Array,this.winModified=new Array;for(var c=0;c<32;c++){this.winMap[c]=new Array,this.winModified[c]=new Array;for(var I=0;I<32;I++)this.winMap[c][I]=-1,this.winModified[c][I]=new Date}this.winCanvas=document.createElement("canvas"),this.winCanvas.width=256,this.winCanvas.height=256,this.winCtx=this.winCanvas.getContext("2d",{willReadFrequently:!0}),this.spriteMap=new Array,this.spriteCanvas=new Array,this.spriteCtx=new Array;for(var c=0;c<40;c++)this.spriteMap[c]=-1,this.spriteCanvas[c]=document.createElement("canvas"),this.spriteCanvas[c].width=8,this.spriteCanvas[c].height=16,this.spriteCtx[c]=this.spriteCanvas[c].getContext("2d",{willReadFrequently:!0});this.tileBuffer=new ArrayBuffer(8*8*4),this.tileBuffer32bit=new Uint32Array(this.tileBuffer),this.tileModified=new Array;for(var c=0;c<256;c++)this.tileModified[c]=new Date;this.intEnable=0,this.vstatus=0,this.hstatus=0,this.divider=0,this.timer=0,this.timerControl=0,this.clockDivider=0,this.clockTimer=0,this.lcdstat=0,this.paused=!1,this.fps=0,this.keys=255,this.transfer=0,this.transferByte=255,this.transferIncoming=-1,this.transferClockOrigin=1,this.transferOut=null,this.init=function(){var t=this;this.interval=setTimeout(function(){t.execute()},16),this.fpstime=new Date},this.pause=function(){this.paused?this.paused=!1:this.paused=!0},this.setCartridgeRam=function(t){this.cartram=new ArrayBuffer(t.length),this.cartram8bit=new Uint8Array(this.cartram);for(var n=0;n<t.length;n++)this.cartram8bit[n]=t.charCodeAt(n)},this.execute=function(){var t=this;if(this.interval=setTimeout(function(){t.execute()},16),!this.paused){this.transferClock();for(var n=0;n<154*4;n++)this.z80.execute(114),this.timerControlAdd(114),this.LCDStatusAdd()}},this.LCDStatusAdd=function(){this.vstatus==this.io8bit[69]?(this.lcdstat|=4,this.hstatus==0&&this.lcdstat&64&&this.LCDInt()):this.lcdstat&=-5,this.lcdstat&=-4,this.vstatus<144?this.hstatus==0?this.lcdstat|=2:this.hstatus==1?(this.io8bit[64]&128&&this.drawLine(this.vstatus),this.lcdstat|=3):this.hstatus==4&&(this.vstatus++,this.hstatus=-1):(this.vstatus==144&&this.hstatus==0&&(this.fps++,this.fps==60&&(this.onFPS!=null&&this.onFPS("FPS: "+Math.round(1e3/(new Date-this.fpstime))),this.fps=0),this.fpstime=new Date,this.vblankInt(),this.lcdstat&16&&this.LCDInt()),this.lcdstat|=1,this.hstatus==4&&(this.hstatus=-1,this.vstatus++),this.vstatus==154&&(this.vstatus=0)),this.hstatus++},this.timerControlAdd=function(t){if(this.clockDivider+=t,this.clockDivider>=257&&(this.divider=(this.divider+1)%256,this.clockDivider%=257),this.timerControl&4){if(this.clockTimer+=t,this.timerControl&!1)for(;this.clockTimer>=1024;)this.timerAddOne(),this.clockTimer-=1024;else if(this.timerControl&!1)for(;this.clockTimer>=16;)this.timerAddOne(),this.clockTimer-=16;else if(this.timerControl&!1)for(;this.clockTimer>=64;)this.timerAddOne(),this.clockTimer-=64;else if(this.timerControl&!0)for(;this.clockTimer>=256;)this.timerAddOne(),this.clockTimer-=256}},this.timerAddOne=function(){this.timer++,this.timer>=256&&(this.timerInt(),this.timer=this.io8bit[6])},this.keyPressed=function(t){this.z80.resume(),this.keys&t&&(this.keys&=~t,this.joypadInt())},this.keyReleased=function(t){this.keys|=t},this.transferIn=function(t){this.transferIncoming=t},this.transferClock=function(){this.transfer&&this.transferIncoming!=-1&&(this.transferByte=this.transferIncoming,this.transfer=0,this.transferIncoming=-1,this.serialInt())},this.vblankInt=function(){this.io8bit[15]|=1,this.executeInt()},this.LCDInt=function(){this.io8bit[15]|=2,this.executeInt()},this.timerInt=function(){this.io8bit[15]|=4,this.executeInt()},this.serialInt=function(){this.io8bit[15]|=8,this.executeInt()},this.joypadInt=function(){this.io8bit[15]|=16,this.executeInt()},this.executeInt=function(){var t=this.io8bit[15];t&1&&this.intEnable&1&&this.z80.interrupt(64)&&(t&=-2),t&2&&this.intEnable&2&&this.z80.interrupt(72)&&(t&=-3),t&4&&this.intEnable&4&&this.z80.interrupt(80)&&(t&=-5),t&8&&this.intEnable&8&&this.z80.interrupt(88)&&(t&=-9),t&16&&this.intEnable&16&&this.z80.interrupt(96)&&(t&=-17),this.io8bit[15]=t},this.getAddress=function(t){return t>=0&&t<16384?this.rom8bit[t]:t>=16384&&t<32768?this.rom8bit[t+16384*(this.activeRomBank-1)]:t>=32768&&t<40960?this.vram8bit[t-32768]:t>=40960&&t<49152?this.cartram==null||this.ramEnabled==0||t-40960+this.activeRamBank*8192>=this.cartram8bit.length?0:this.cartram8bit[t-40960+this.activeRamBank*8192]:t>=49152&&t<57344?this.wram8bit[t-49152]:t>=57344&&t<65024?this.wram8bit[t-57344]:t>=65024&&t<65184?this.spriteram8bit[t-65024]:t>=65280&&t<65408?this.getIO(t%65280):t>=65408&&t<=65534?this.hram8bit[t-65408]:t==65535?this.intEnable:0},this.putAddress=function(t,n){if(t>=0&&t<8192)n==0&&(this.ramEnabled=0),n==10&&(this.ramEnabled=1);else if(t>=8192&&t<16384)this.activeRomBank=n%32;else if(t>=16384&&t<24576)this.romRamMode==0?this.activeRomBank=this.activeRomBank&31|n%4<<5:this.romRamMode==1&&(this.activeRamBank=n%4);else if(t>=24576&&t<32768)this.romRamMode=n&1;else if(t>=32768&&t<40960){if(this.vram8bit[t-32768]=n,t>=34816&&t<38912){var f=Math.floor((t-36864)/16);f<0&&(f+=256),this.tileModified[f]=new Date}else if(t>=32768&&t<36864){var f=Math.floor((t-32768)/16);this.tileModified[f]=new Date}}else if(t>=40960&&t<49152){if(this.cartram==null||this.ramEnabled==0||t-40960+this.activeRamBank*8192>=this.cartram8bit.length)return;this.cartram8bit[t-40960+this.activeRamBank*8192]=n}else t>=49152&&t<57344?this.wram8bit[t-49152]=n:t>=57344&&t<65024?this.wram8bit[t-57344]=n:t>=65024&&t<65184?this.spriteram8bit[t-65024]=n:t>=65280&&t<65408?this.putIO(t%65280,n):t>=65408&&t<=65534?this.hram8bit[t-65408]=n:t==65535&&(this.intEnable=n)},this.getIO=function(t){return t==0?(this.io8bit[0]&48)==48?this.io8bit[0]&-16:(this.io8bit[0]&48)==32?this.io8bit[0]&-16|this.keys&15:(this.io8bit[0]&48)==16?this.io8bit[0]&-16|this.keys>>4:this.io8bit[0]|15:t==1?this.transferByte:t==2?this.transfer<<7|this.transferClockOrigin:t==4?this.divider:t==5?this.timer:t==7?this.timerControl:t==65?this.lcdstat:t==68?this.vstatus:this.io8bit[t]},this.putIO=function(t,n){if(t==1)this.transferByte=n;else if(t==2)this.transferClockOrigin=n&1,this.transfer==0&&n&128&&(this.transfer=1,this.transferClockOrigin&&this.transferIn(255));else if(t==4)this.divider=0;else if(t==5)this.timer=0;else if(t==7)this.timerControl=n;else if(t==15)this.io8bit[t]=n,this.executeInt();else if(t==64)this.io8bit[t]=n;else if(t==65)this.lcdstat&=-121,this.lcdstat|=n&-136;else if(t==70)for(var f=0;f<160;f++)this.putAddress(65024+f,this.getAddress((n<<8)+f));else if(t==71){if(this.io8bit[71]!=n){for(var f=0;f<this.bgMap.length;f++)for(var o=0;o<this.bgMap[f].length;o++)this.bgMap[f][o]=-1;for(var f=0;f<this.winMap.length;f++)for(var o=0;o<this.winMap[f].length;o++)this.winMap[f][o]=-1}this.io8bit[71]=n}else this.io8bit[t]=n},this.getPalette=function(){var t=this.io8bit[71];return new Array(2*(t&2)/2+(t&1)/1,2*(t&8)/8+(t&4)/4,2*(t&32)/32+(t&16)/16,2*(t&128)/128+(t&64)/64)},this.getObj0Palette=function(){var t=this.io8bit[72];return new Array(2*(t&2)/2+(t&1)/1,2*(t&8)/8+(t&4)/4,2*(t&32)/32+(t&16)/16,2*(t&128)/128+(t&64)/64)},this.getObj1Palette=function(){var t=this.io8bit[73];return new Array(2*(t&2)/2+(t&1)/1,2*(t&8)/8+(t&4)/4,2*(t&32)/32+(t&16)/16,2*(t&128)/128+(t&64)/64)},this.remapBgMap=function(t){if(this.io8bit[64]&8)var n=7168+t*32;else var n=6144+t*32;for(var f=0;f<32;f++){var o=this.vram8bit[n++];if(o!=this.bgMap[f][t]||this.bgModified[f][t]<this.tileModified[o]){this.redrawTile(o);var u=this.bgCtx.getImageData(f*8,t*8,8,8);u.data.set(new Uint8Array(this.tileBuffer)),this.bgCtx.putImageData(u,f*8,t*8),this.bgMap[f][t]=o,this.bgModified[f][t]=new Date}}},this.remapWindowMap=function(t){if(this.io8bit[64]&64)var n=7168;else var n=6144;for(var f=n+t*32,o=0;o<32;o++){var u=this.vram8bit[f++];if(u!=this.winMap[o][t]||this.winModified[o][t]<this.tileModified[u]){this.redrawTile(u);var s=this.winCtx.getImageData(o*8,t*8,8,8);s.data.set(new Uint8Array(this.tileBuffer)),this.winCtx.putImageData(s,o*8,t*8),this.winMap[o][t]=u,this.winModified[o][t]=new Date}}},this.redrawTile=function(t){if(this.io8bit[64]&16)var n=t,f=0;else var n=t>=128?t-256:t,f=4096;for(var o=this.getPalette(),u=0,s=0;s<8;s++)for(var i=this.vram8bit[f+n*16+s*2],h=this.vram8bit[f+n*16+s*2+1],m=7;m>=0;m--){var E=2*((h&1<<m)/(1<<m))+(i&1<<m)/(1<<m);switch(o[E]){case 0:this.tileBuffer32bit[u++]=this.COLOR0;break;case 1:this.tileBuffer32bit[u++]=this.COLOR1;break;case 2:this.tileBuffer32bit[u++]=this.COLOR2;break;case 3:this.tileBuffer32bit[u++]=this.COLOR3;break}}},this.redrawSpriteTile=function(t,n){for(var f=t,o=0,u=0,s=0;s<8;s++)for(var i=this.vram8bit[o+f*16+s*2],h=this.vram8bit[o+f*16+s*2+1],m=7;m>=0;m--){var E=2*((h&1<<m)/(1<<m))+(i&1<<m)/(1<<m);if(E==0){this.tileBuffer32bit[u++]=0|255<<16|65280|255;continue}switch(n[E]){case 0:this.tileBuffer32bit[u++]=this.COLOR0;break;case 1:this.tileBuffer32bit[u++]=this.COLOR1;break;case 2:this.tileBuffer32bit[u++]=this.COLOR2;break;case 3:this.tileBuffer32bit[u++]=this.COLOR3;break}}},this.getSprites=function(t){for(var n=this.getObj0Palette(),f=this.getObj1Palette(),o=new Array,u=0;u<40;u++){var s=new Object;if(s.n=u,s.y=this.spriteram8bit[u*4]-16,s.x=this.spriteram8bit[u*4+1]-8,s.tile=this.spriteram8bit[u*4+2],s.flags=this.spriteram8bit[u*4+3],this.io8bit[64]&4&&t-s.y<16&&t-s.y>=0&&s.x>-8&&s.x<160)o.push(s);else if(!(this.io8bit[64]&4)&&t-s.y<8&&t-s.y>=0&&s.x>-8&&s.x<160)o.push(s);else continue;if(this.spriteMap[u]!=s.tile){s.flags&16?this.redrawSpriteTile(this.io8bit[64]&4?s.tile&254:s.tile,f):this.redrawSpriteTile(this.io8bit[64]&4?s.tile&254:s.tile,n);var i=this.spriteCtx[u].getImageData(0,0,8,8);if(i.data.set(new Uint8Array(this.tileBuffer)),this.spriteCtx[u].putImageData(i,0,0),this.io8bit[64]&4){s.flags&16?this.redrawSpriteTile(s.tile|1,f):this.redrawSpriteTile(s.tile|1,n);var i=this.spriteCtx[u].getImageData(0,8,8,8);i.data.set(new Uint8Array(this.tileBuffer)),this.spriteCtx[u].putImageData(i,0,8)}this.spriteMap[u]=s.tile}}return o},this.drawLine=function(t){var n=this.io8bit[64];if((n&1||n&32)&&this.getPalette(),n&1){this.io8bit[67]%8,(t+this.io8bit[66]+256)%256%8;var f=Math.floor((t+this.io8bit[66]+256)%256/8);this.remapBgMap(f);var o=Math.min(256-this.io8bit[67],160);this.displaycanvas.drawImage(this.bgCanvas,this.io8bit[67],(t+this.io8bit[66]+256)%256,o,1,0,t,o,1),o<160&&this.displaycanvas.drawImage(this.bgCanvas,0,(t+this.io8bit[66]+256)%256,160-o,1,o,t,160-o,1)}if(n&32&&t>=this.io8bit[74]&&this.io8bit[74]<143&&this.io8bit[75]<166){(this.io8bit[75]-7)%8,(t-this.io8bit[74])%8;var f=Math.floor((t-this.io8bit[74])/8);this.remapWindowMap(f);var o=Math.min(160-(this.io8bit[75]-7));this.displaycanvas.drawImage(this.winCanvas,0,t-this.io8bit[74],o,1,this.io8bit[75]-7,t,o,1)}if(n&2)for(var u=this.getSprites(t),s=0;u[s]!=null;s++){var i=u[s].n;this.displaycanvas.save(),this.displaycanvas.transform(u[s].flags&32?-1:1,0,0,1,0,0),this.io8bit[64]&4?this.displaycanvas.drawImage(this.spriteCanvas[i],0,u[s].flags&64?15-(t-u[s].y):t-u[s].y,8,1,u[s].flags&32?-u[s].x-8:u[s].x,t,8,1):this.displaycanvas.drawImage(this.spriteCanvas[i],0,u[s].flags&64?7-(t-u[s].y):t-u[s].y,8,1,u[s].flags&32?-u[s].x-8:u[s].x,t,8,1),this.displaycanvas.restore()}},this.z80=fr(window,{getAddress:function(){return w.getAddress.apply(w,arguments)},putAddress:function(){w.putAddress.apply(w,arguments)},executeInt:function(){w.executeInt.apply(w,arguments)},start:256})};function Kt(p,w,l){const c=p.slice();return c[31]=w[l][0],c[32]=w[l][1],c}function Gt(p){let w,l,c=p[31]+"",I,t,n=p[32]+"",f,o;return{c(){w=g("li"),l=g("span"),I=Rt(c),t=Rt(": "),f=Rt(n),o=z()},l(u){w=C(u,"LI",{});var s=D(w);l=C(s,"SPAN",{});var i=D(l);I=Ot(i,c),t=Ot(i,": "),f=Ot(i,n),i.forEach(A),o=H(s),s.forEach(A)},m(u,s){Ut(u,w,s),x(w,l),x(l,I),x(l,t),x(l,f),x(w,o)},p:jt,d(u){u&&A(w)}}}function ar(p){let w,l,c='<div class="onoff svelte-1hv55wu"><span class="arrow-left svelte-1hv55wu"></span><span class="onoff-label svelte-1hv55wu">on/off</span><span class="arrow-right svelte-1hv55wu"></span></div>',I,t,n,f,o,u,s,i,h,m='<div class="logo-nintendo svelte-1hv55wu"></div> <div class="logo-gameboy svelte-1hv55wu"></div>',E,b,a,K,et,Z,ft,Y,nt,G,R,y,P,J,T,W,S,q,_,v,O,F,$='<div class="grill svelte-1hv55wu"></div> <div class="grill svelte-1hv55wu"></div> <div class="grill svelte-1hv55wu"></div> <div class="grill svelte-1hv55wu"></div> <div class="grill svelte-1hv55wu"></div> <div class="grill svelte-1hv55wu"></div>',U,X,k,L,ot,Ft="Title",Ct,bt,At,rt,at,Lt="User Keybinds",yt,st,kt,vt,Dt,xt,Et,mt,_t,Tt,ct=Ht(p[4]),j=[];for(let B=0;B<ct.length;B+=1)j[B]=Gt(Kt(p,ct,B));return{c(){w=g("div"),l=g("div"),l.innerHTML=c,I=z(),t=g("div"),n=g("div"),f=g("div"),o=z(),u=g("canvas"),s=z(),i=g("div"),h=g("div"),h.innerHTML=m,E=z(),b=g("div"),a=g("div"),K=g("div"),et=z(),Z=g("div"),ft=z(),Y=g("div"),nt=z(),G=g("div"),R=z(),y=g("div"),P=g("div"),J=z(),T=g("div"),W=z(),S=g("div"),q=g("div"),_=z(),v=g("div"),O=z(),F=g("div"),F.innerHTML=$,U=z(),X=g("div"),k=g("div"),L=g("div"),ot=g("strong"),ot.textContent=Ft,Ct=Rt(": "),bt=Rt(p[1]),At=z(),rt=g("div"),at=g("strong"),at.textContent=Lt,yt=z(),st=g("ul");for(let B=0;B<j.length;B+=1)j[B].c();kt=z(),vt=g("div"),Dt=z(),xt=g("div"),Et=z(),mt=g("div"),this.h()},l(B){w=C(B,"DIV",{class:!0});var Q=D(w);l=C(Q,"DIV",{class:!0,"data-svelte-h":!0}),Mt(l)!=="svelte-udf7k4"&&(l.innerHTML=c),I=H(Q),t=C(Q,"DIV",{class:!0});var M=D(t);n=C(M,"DIV",{class:!0});var ut=D(n);f=C(ut,"DIV",{class:!0}),D(f).forEach(A),o=H(ut),u=C(ut,"CANVAS",{class:!0,id:!0}),D(u).forEach(A),ut.forEach(A),s=H(M),i=C(M,"DIV",{class:!0});var ht=D(i);h=C(ht,"DIV",{class:!0,"data-svelte-h":!0}),Mt(h)!=="svelte-aa2vom"&&(h.innerHTML=m),E=H(ht),b=C(ht,"DIV",{class:!0});var lt=D(b);a=C(lt,"DIV",{class:!0});var it=D(a);K=C(it,"DIV",{class:!0,role:!0,tabindex:!0}),D(K).forEach(A),et=H(it),Z=C(it,"DIV",{class:!0,role:!0,tabindex:!0}),D(Z).forEach(A),ft=H(it),Y=C(it,"DIV",{class:!0,role:!0,tabindex:!0}),D(Y).forEach(A),nt=H(it),G=C(it,"DIV",{class:!0,role:!0,tabindex:!0}),D(G).forEach(A),it.forEach(A),R=H(lt),y=C(lt,"DIV",{class:!0});var dt=D(y);P=C(dt,"DIV",{class:!0,role:!0,tabindex:!0}),D(P).forEach(A),J=H(dt),T=C(dt,"DIV",{class:!0,role:!0,tabindex:!0}),D(T).forEach(A),dt.forEach(A),W=H(lt),S=C(lt,"DIV",{class:!0});var wt=D(S);q=C(wt,"DIV",{class:!0,role:!0,tabindex:!0}),D(q).forEach(A),_=H(wt),v=C(wt,"DIV",{class:!0,role:!0,tabindex:!0}),D(v).forEach(A),wt.forEach(A),lt.forEach(A),O=H(ht),F=C(ht,"DIV",{class:!0,"data-svelte-h":!0}),Mt(F)!=="svelte-1wcqrba"&&(F.innerHTML=$),ht.forEach(A),M.forEach(A),Q.forEach(A),U=H(B),X=C(B,"DIV",{style:!0});var St=D(X);k=C(St,"DIV",{class:!0,style:!0});var tt=D(k);L=C(tt,"DIV",{id:!0});var pt=D(L);ot=C(pt,"STRONG",{"data-svelte-h":!0}),Mt(ot)!=="svelte-5b5ij4"&&(ot.textContent=Ft),Ct=Ot(pt,": "),bt=Ot(pt,p[1]),pt.forEach(A),At=H(tt),rt=C(tt,"DIV",{});var gt=D(rt);at=C(gt,"STRONG",{"data-svelte-h":!0}),Mt(at)!=="svelte-1o5pczu"&&(at.textContent=Lt),yt=H(gt),st=C(gt,"UL",{style:!0});var Vt=D(st);for(let Bt=0;Bt<j.length;Bt+=1)j[Bt].l(Vt);Vt.forEach(A),gt.forEach(A),kt=H(tt),vt=C(tt,"DIV",{id:!0}),D(vt).forEach(A),Dt=H(tt),xt=C(tt,"DIV",{id:!0}),D(xt).forEach(A),Et=H(tt),mt=C(tt,"DIV",{id:!0}),D(mt).forEach(A),tt.forEach(A),St.forEach(A),this.h()},h(){d(l,"class","top svelte-1hv55wu"),d(f,"class","battery svelte-1hv55wu"),d(u,"class","display svelte-1hv55wu"),d(u,"id","display"),d(n,"class","screen svelte-1hv55wu"),d(h,"class","logo svelte-1hv55wu"),d(K,"class","left svelte-1hv55wu"),d(K,"role","button"),d(K,"tabindex","0"),d(Z,"class","up svelte-1hv55wu"),d(Z,"role","button"),d(Z,"tabindex","0"),d(Y,"class","right svelte-1hv55wu"),d(Y,"role","button"),d(Y,"tabindex","0"),d(G,"class","down svelte-1hv55wu"),d(G,"role","button"),d(G,"tabindex","0"),d(a,"class","dpad svelte-1hv55wu"),d(P,"class","button-b svelte-1hv55wu"),d(P,"role","button"),d(P,"tabindex","0"),d(T,"class","button-a svelte-1hv55wu"),d(T,"role","button"),d(T,"tabindex","0"),d(y,"class","buttons svelte-1hv55wu"),d(q,"class","select svelte-1hv55wu"),d(q,"role","button"),d(q,"tabindex","0"),d(v,"class","start svelte-1hv55wu"),d(v,"role","button"),d(v,"tabindex","0"),d(S,"class","selections svelte-1hv55wu"),d(b,"class","inputs svelte-1hv55wu"),d(F,"class","speakers svelte-1hv55wu"),d(i,"class","controls svelte-1hv55wu"),d(t,"class","components svelte-1hv55wu"),d(w,"class","gameboy svelte-1hv55wu"),d(L,"id","title"),Pt(st,"margin-top","0"),d(vt,"id","data"),d(xt,"id","cartridge"),d(mt,"id","cartridge-data"),d(k,"class","info-below svelte-1hv55wu"),Pt(k,"justify-content","center"),Pt(X,"display","flex"),Pt(X,"justify-content","center")},m(B,Q){Ut(B,w,Q),x(w,l),x(w,I),x(w,t),x(t,n),x(n,f),x(n,o),x(n,u),p[8](u),x(t,s),x(t,i),x(i,h),x(i,E),x(i,b),x(b,a),x(a,K),x(a,et),x(a,Z),x(a,ft),x(a,Y),x(a,nt),x(a,G),x(b,R),x(b,y),x(y,P),x(y,J),x(y,T),x(b,W),x(b,S),x(S,q),x(S,_),x(S,v),x(i,O),x(i,F),Ut(B,U,Q),Ut(B,X,Q),x(X,k),x(k,L),x(L,ot),x(L,Ct),x(L,bt),x(k,At),x(k,rt),x(rt,at),x(rt,yt),x(rt,st);for(let M=0;M<j.length;M+=1)j[M]&&j[M].m(st,null);x(k,kt),x(k,vt),x(k,Dt),x(k,xt),x(k,Et),x(k,mt),_t||(Tt=[N(window,"keydown",p[5]),N(window,"keyup",p[6]),N(K,"mousedown",p[9]),N(K,"mouseup",p[10]),N(Z,"mousedown",p[11]),N(Z,"mouseup",p[12]),N(Y,"mousedown",p[13]),N(Y,"mouseup",p[14]),N(G,"mousedown",p[15]),N(G,"mouseup",p[16]),N(P,"mousedown",p[17]),N(P,"mouseup",p[18]),N(T,"mousedown",p[19]),N(T,"mouseup",p[20]),N(q,"mousedown",p[21]),N(q,"mouseup",p[22]),N(v,"mousedown",p[23]),N(v,"mouseup",p[24])],_t=!0)},p(B,Q){if(Q[0]&2&&sr(bt,B[1]),Q[0]&16){ct=Ht(B[4]);let M;for(M=0;M<ct.length;M+=1){const ut=Kt(B,ct,M);j[M]?j[M].p(ut,Q):(j[M]=Gt(ut),j[M].c(),j[M].m(st,null))}for(;M<j.length;M+=1)j[M].d(1);j.length=ct.length}},i:jt,o:jt,d(B){B&&(A(w),A(U),A(X)),p[8](null),ur(j,B),_t=!1,tr(Tt)}}}function cr(p,w,l){let{romURL:c="https://s3-us-west-2.amazonaws.com/s.cdpn.io/163870/LinksAwakening.gb"}=w,I,t,n,f="";function o(){var v=new XMLHttpRequest;v.open("GET",c),v.responseType="arraybuffer",v.onreadystatechange=function(){v.readyState==4&&v.status==200&&u(v.response)},v.send()}function u(v){t.scale(1.87,1.05),n=new or(v),n.displaycanvas=t,l(1,f="");for(var O=0;n.getAddress(308+O)!=0;O++)l(1,f+=String.fromCharCode(n.getAddress(308+O)));n.init()}function s(v){n.keyPressed(v)}function i(v){n.keyReleased(v)}nr(()=>{if(t=I.getContext("2d"),c===void 0||c.length==0){console.log("No romURL.");return}o()});const h=new Map(Object.entries({right:1,left:2,up:4,down:8,a:16,b:32,select:64,start:128})),m=new Map(Object.entries({w:"up",s:"down",a:"left",d:"right",i:"a",l:"b",j:"select",k:"start",ArrowLeft:"left",ArrowUp:"up",ArrowDown:"down",ArrowRight:"right"}));function E(v){const O=m.get(v.key),F=O===void 0?void 0:h.get(O);F!==void 0&&n.keyPressed(F)}function b(v){const O=m.get(v.key),F=O===void 0?void 0:h.get(O);F!==void 0&&n.keyReleased(F)}function a(v){ir[v?"unshift":"push"](()=>{I=v,l(0,I)})}const K=v=>s(2),et=v=>i(2),Z=v=>s(4),ft=v=>i(4),Y=v=>s(1),nt=v=>i(1),G=v=>s(8),R=v=>i(8),y=v=>s(32),P=v=>i(32),J=v=>s(16),T=v=>i(16),W=v=>s(64),S=v=>i(64),q=v=>s(128),_=v=>i(128);return p.$$set=v=>{"romURL"in v&&l(7,c=v.romURL)},[I,f,s,i,m,E,b,c,a,K,et,Z,ft,Y,nt,G,R,y,P,J,T,W,S,q,_]}class xr extends er{constructor(w){super(),rr(this,w,cr,ar,$e,{romURL:7},null,[-1,-1])}}export{xr as G};
